<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman Game - Mongolia</title>
    <style>
        body { font-family: 'Arial', sans-serif; display: flex; flex-direction: column; align-items: center; background-color: #f0f2f5; }
        #game-container { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 0 20px rgba(0,0,0,0.1); text-align: center; margin-top: 50px; width: 400px; }
        
        /* Дүүжлүүрийн хэсэг */
        #hangman-visual { font-size: 24px; margin: 20px 0; color: #e74c3c; font-weight: bold; }
        
        #question-display { font-style: italic; color: #555; margin-bottom: 10px; }
        #answer-display { font-size: 32px; letter-spacing: 10px; margin: 20px 0; font-weight: bold; color: #2c3e50; }
        
        /* Үсгүүдийн товчлуур */
        #letters-container { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; margin-top: 20px; }
        button.letter-btn { padding: 10px; cursor: pointer; border: 1px solid #ddd; background: #fff; border-radius: 5px; }
        button.letter-btn:hover { background: #3498db; color: white; }
        
        #start-btn { padding: 10px 30px; font-size: 18px; cursor: pointer; background: #2ecc71; color: white; border: none; border-radius: 5px; margin-top: 20px; }
        #start-btn:hover { background: #27ae60; }
    </style>
</head>
<body>

<div id="game-container">
    <h1>Hangman Game</h1>
    
    <div id="game-area" style="display:none;">
        <p id="question-display"></p>
        <div id="hangman-visual">Алдаа: <span id="mistakes">0</span> / 6</div>
        <div id="answer-display"></div>
        <div id="letters-container"></div>
    </div>

    <button id="start-btn" onclick="startGame()">Тоглоом эхлэх</button>
</div>

<script>
    var questions = ['Biggest Mammal?', 'Fastest vehicle?', 'National fruit of India?', 'Capital of Mongolia?'];
    var answers = ['Whale', 'Jet', 'Mango', 'Ulaanbaatar'];

    let selectedAnswer = "";
    let displayArray = []; // Дэлгэцэн дээр харагдах (_)
    let mistakes = 0;
    const maxMistakes = 6;
    let answerLetters = []; // Хариултын үсгүүдийг массив болгож хадгалах

    function startGame() {
        // Тоглоомыг шинээр эхлүүлэх тохиргоо
        let randomIndex = Math.floor(Math.random() * questions.length);
        let selectedQuestion = questions[randomIndex];
        selectedAnswer = answers[randomIndex].toUpperCase();
        
        answerLetters = selectedAnswer.split(''); // Үгийг үсэг бүрээр нь салгах
        displayArray = Array(answerLetters.length).fill('_');
        mistakes = 0;

        // Дэлгэцийг шинэчлэх
        document.getElementById('game-area').style.display = 'block';
        document.getElementById('question-display').innerText = "Асуулт: " + selectedQuestion;
        document.getElementById('mistakes').innerText = mistakes;
        document.getElementById('start-btn').innerText = "Дахин эхлэх";
        
        renderAnswer();
        createButtons();
    }

    // Үсгүүдийг дэлгэцэнд зурах
    function renderAnswer() {
        document.getElementById('answer-display').innerText = displayArray.join(' ');
    }

    // A-Z хүртэлх товчлуур үүсгэх
    function createButtons() {
        const container = document.getElementById('letters-container');
        container.innerHTML = '';
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
        
        alphabet.forEach(letter => {
            let btn = document.createElement('button');
            btn.innerText = letter;
            btn.className = 'letter-btn';
            btn.onclick = () => handleGuess(letter);
            container.appendChild(btn);
        });
    }

    // Үсэг дарах үед ажиллах логик
    function handleGuess(letter) {
        // Таны хүссэнээр: Ижил үсэг байсан ч эхнээс нь дарааллаар эсвэл нэг нэгээр нь таана
        // Эхний олдоогүй байгаа харгалзах үсгийг хайх
        let foundIndex = -1;
        for(let i = 0; i < answerLetters.length; i++) {
            if(answerLetters[i] === letter && displayArray[i] === '_') {
                foundIndex = i;
                break; // Хамгийн эхний тааралдсан (_) байрлалыг олмогц зогсоно
            }
        }

        if (foundIndex !== -1) {
            // Зөв таавал тухайн байрлалын зураасыг үсгээр солино
            displayArray[foundIndex] = letter;
            renderAnswer();
            checkWin();
        } else {
            // Буруу таавал (эсвэл тухайн үсэг аль хэдийн бүгд таагдсан бол)
            mistakes++;
            document.getElementById('mistakes').innerText = mistakes;
            if (mistakes >= maxMistakes) {
                alert("Тоглоом дууслаа! Хариулт нь: " + selectedAnswer);
                startGame();
            }
        }
    }

    function checkWin() {
        if (!displayArray.includes('_')) {
            setTimeout(() => {
                alert("Баяр хүргэе! Та үгийг оллоо.");
                startGame();
            }, 200);
        }
    }
</script>

</body>
</html>
